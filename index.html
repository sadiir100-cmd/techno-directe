<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Techno Direct</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f5f5f5;
    }
    .card {
      width: 300px;
      background: white;
      border-radius: 10px;
      margin: 20px auto;
      padding: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      overflow: hidden;
    }
    .card img {
      width: 100%;
      border-radius: 10px;
    }
    .info {
      padding: 10px;
    }
    .price {
      color: green;
      font-weight: bold;
    }
    .btn {
      display: inline-block;
      background: #007bff;
      color: white;
      padding: 8px 12px;
      text-decoration: none;
      border-radius: 5px;
      margin-top: 8px;
      cursor: pointer;
    }
    .btn:hover { background: #0056b3; }
    .admin-zone {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 500px;
      z-index: 999;
    }
    .admin-zone input, .admin-zone textarea {
      width: 100%;
      padding: 6px;
      margin: 6px 0;
    }
    #closeAdmin { background: crimson; }
  </style>
</head>
<body>

<!-- Produit 1 -->
<div class="card" data-produit="HP ZBook 14u G6" data-prix="60000">
  <img src="https://images.unsplash.com/photo-1587202372775-98927a7c62d5?auto=format&fit=crop&w=800&q=60" alt="HP ZBook">
  <div class="info">
    <h2>HP ZBook 14u G6</h2>
    <p>Intel Core i7 â€¢ 16 Go DDR4 â€¢ SSD 512 Go â€¢ 14â€³ Full HD</p>
    <p class="price prix-produit" data-prix="60000">60 000 DA</p>
    <label>Wilaya :
      <select class="wilaya" required></select>
    </label>
    <p class="total"><strong>Total : <span class="montant">60 000 DA</span></strong></p>
    <a class="btn whatsapp" href="#">Commander sur WhatsApp</a>
    <button class="btn formulaire">Remplir le formulaire</button>
  </div>
</div>

<!-- Produit 2 -->
<div class="card" data-produit="Lenovo ThinkPad T480" data-prix="72000">
  <img src="https://images.unsplash.com/photo-1541807084-5c52b6b3adef?auto=format&fit=crop&w=800&q=60" alt="ThinkPad">
  <div class="info">
    <h2>Lenovo ThinkPad T480</h2>
    <p>Intel Core i7-8650U â€¢ 16 Go DDR4 â€¢ SSD 512 Go â€¢ 14â€³ Full HD</p>
    <p class="price prix-produit" data-prix="72000">72 000 DA</p>
    <label>Wilaya :
      <select class="wilaya" required></select>
    </label>
    <p class="total"><strong>Total : <span class="montant">72 000 DA</span></strong></p>
    <a class="btn whatsapp" href="#">Commander sur WhatsApp</a>
    <button class="btn formulaire">Remplir le formulaire</button>
  </div>
</div>

<!-- Produit 3 -->
<div class="card" data-produit="MacBook Air 2018" data-prix="94000">
  <img src="https://images.unsplash.com/photo-1629131726692-1accd0c53ce0?auto=format&fit=crop&w=800&q=60" alt="MacBook">
  <div class="info">
    <h2>MacBook Air 2018</h2>
    <p>Intel Core i5 â€¢ 8 Go â€¢ SSD 256 Go â€¢ 13,3â€³ Retina</p>
    <p class="price prix-produit" data-prix="94000">94 000 DA</p>
    <label>Wilaya :
      <select class="wilaya" required></select>
    </label>
    <p class="total"><strong>Total : <span class="montant">94 000 DA</span></strong></p>
    <a class="btn whatsapp" href="#">Commander sur WhatsApp</a>
    <button class="btn formulaire">Remplir le formulaire</button>
  </div>
</div>

<!-- ADMIN ZONE -->
<div class="admin-zone" id="adminZone">
  <h3>Zone Admin â€“ Gestion des produits</h3>

  <input type="file" id="imageProduit" accept="image/*">
  <input type="text" id="nomProduit" placeholder="Nom du produit">
  <input type="number" id="prixProduit" placeholder="Prix (DA)">
  <textarea id="descProduit" placeholder="Description du produit"></textarea>
  <button id="ajouterProduit" class="btn">Ajouter produit</button>
  <button id="closeAdmin" class="btn">Fermer</button>

  <hr>
  <div id="listeProduits"></div>
</div>

<script>
  // Double clic pour ouvrir la zone admin
  document.addEventListener('dblclick', e => {
    if (e.clientX < 100 && e.clientY < 100) {
      const mdp = prompt("Mot de passe admin :");
      if (mdp === "technoid") {
        document.getElementById("adminZone").style.display = "block";
        afficherProduitsAdmin();
      } else {
        alert("Mot de passe incorrect !");
      }
    }
  });

  document.getElementById("closeAdmin").onclick = () => {
    document.getElementById("adminZone").style.display = "none";
  };

  const produitsContainer = document.body;
  const listeProduits = document.getElementById("listeProduits");
  let produits = JSON.parse(localStorage.getItem("produits")) || [];

  function afficherProduits() {
    document.querySelectorAll('.card').forEach(c => c.remove());
    produits.forEach((p, i) => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        <img src="${p.image}" alt="${p.nom}">
        <div class="info">
          <h2>${p.nom}</h2>
          <p>${p.desc}</p>
          <p class="price">${p.prix} DA</p>
          <a class="btn whatsapp" href="#">Commander sur WhatsApp</a>
        </div>
      `;
      produitsContainer.appendChild(div);
    });
  }

  function afficherProduitsAdmin() {
    listeProduits.innerHTML = "";
    produits.forEach((p, i) => {
      const div = document.createElement("div");
      div.innerHTML = `
        <b>${p.nom}</b> â€” ${p.prix} DA
        <button onclick="supprimerProduit(${i})">ðŸ—‘ Supprimer</button>
      `;
      listeProduits.appendChild(div);
    });
  }

  document.getElementById("ajouterProduit").onclick = () => {
    const nom = document.getElementById("nomProduit").value;
    const prix = document.getElementById("prixProduit").value;
    const desc = document.getElementById("descProduit").value;
    const imageInput = document.getElementById("imageProduit");

    if (!nom || !prix || !desc || !imageInput.files[0]) return alert("Tous les champs sont requis !");
    if (produits.length >= 20) return alert("Limite de 20 affiches atteinte.");

    const reader = new FileReader();
    reader.onload = function(e) {
      const image = e.target.result;
      produits.push({ nom, prix, desc, image });
      localStorage.setItem("produits", JSON.stringify(produits));
      afficherProduits();
      afficherProduitsAdmin();
      alert("Produit ajoutÃ© avec succÃ¨s !");
    };
    reader.readAsDataURL(imageInput.files[0]);
  };

  function supprimerProduit(i) {
    if (confirm("Supprimer ce produit ?")) {
      produits.splice(i, 1);
      localStorage.setItem("produits", JSON.stringify(produits));
      afficherProduits();
      afficherProduitsAdmin();
    }
  }

  afficherProduits();
</script>

</body>
</html>
